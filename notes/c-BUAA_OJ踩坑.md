# BUAA_OJ å„ç§å‘

## è¾“å…¥æ ·ä¾‹ & è¾“å‡ºæ ·ä¾‹ è°ƒè¯•æ­¥éª¤

è§£å†³çš„é—®é¢˜ï¼šæŒ‰ä¸€ä¸‹å›è½¦å¾—åˆ°ä¸€æ¬¡è¾“å‡ºï¼Œéš¾ä»¥æ¯”å¯¹ç­”æ¡ˆã€‚

1. æŒ‰`f5`ç¼–è¯‘(å…¶å®æ˜¯è°ƒè¯•ï¼Œç„¶åè¿˜è¦æŒ‰`shift+f5`)ï¼Œå¾—åˆ°æ–‡ä»¶`main`
2. åˆ›å»º`in.txt`æ–‡ä»¶ï¼Œç²˜è´´è¾“å…¥æ ·ä¾‹å¹¶ä¿å­˜
3. ç»ˆç«¯è¾“å…¥ `./main < in.txt > out.txt`ï¼ˆç”¨ç›¸å¯¹è·¯å¾„ï¼‰
4. ç›´æ¥æ¯”å¯¹`out.txt`å’Œè¾“å‡ºæ ·ä¾‹

## EOF

windowsç«¯çš„EOFæ˜¯`Ctrl+Z Enter`ï¼Œlinuxç«¯çš„æ˜¯`Ctrl + D`

(æ–‡æœ¬æ–‡ä»¶ä¸­) winå›è½¦ç­‰äº`\r\n`ï¼Œlinuxå›è½¦æ˜¯`\n`

> ç¢ç¢å¿µï¼šä»¥åæˆ‘å°±ç”¨linuxäº†ğŸ¤ª

## å­—ç¬¦ç”»è½¬ä¹‰ç›¸å…³

æŠŠå­—ç¬¦ä¸²ä¸¢åˆ°notepad3é‡Œé¢ï¼Œæ›¿æ¢é¡ºåºï¼š
`\` -> `\\`
`'` -> `\'`
`"` -> `\"`
æ¯è¡Œè²Œä¼¼è¿˜è¦å¼„ä¸ª`\n`

ä¹Ÿå¯ä»¥ç›´æ¥ç”¨æ–‡ä»¶é‡å®šå‘ï¼Œå‚è§é™„ä»¶

## è¯»å–æ•´è¡Œçš„getsä¸fgets

ä¸€äº›æ¯”è¾ƒç°ä»£çš„ideç¼–è¯‘`gets()`å·²ç»ä¸ç»™è¿‡äº†ï¼Œæœ‰çš„å¹³å°`gets()`ä¹Ÿä¸ç»™ç¼–è¯‘äº†ã€‚ä½†æ˜¯buaaçš„ojè¿˜èƒ½è¿‡ã€‚ã€‚

```c
char str[Maxsize];
gets(str);
```

æ›¿ä»£æ–¹æ¡ˆ(æœ€å®‰å…¨)ï¼š
> æ³¨æ„ä¸€ä¸‹ï¼Œ`fgets`çš„ç¬¬äºŒä¸ªå‚æ•°`Maxsize`å¼€å°äº†ä¹Ÿä¼š`RuntimeError(SIGSEGV)`ï¼Œè§£å†³æ–¹æ¡ˆå°±æ˜¯é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œé‡åˆ°å­—ç¬¦ä¸²ç›´æ¥å¼€`buffer[10005]`è€Œä¸æ˜¯`buffer[10001]`ï¼Œæ‰€è°“â€œä¸å·®è¿™ä¹ˆå‡ ä¸ªå­—èŠ‚çš„å†…å­˜â€ã€‚

```c
char str[Maxsize];
fgets(str,Maxsize,stdin);
str[strcspn(str, "\n")] = '\0';
```

å«Œéº»çƒ¦å°±å°è£…èµ·æ¥ï¼Œæ‰“æ¯”èµ›ç›´æ¥å¤åˆ¶ã€‚æ³¨æ„ä¸€ä¸‹è¿˜æ˜¯é¿å…é‡åï¼Œè¿™é‡Œç”¨`my_gets()`ï¼Œä¸‡ä¸€`get()`ç¼–è¯‘é€šè¿‡äº†ï¼Œçº¯cåˆä¸å­˜åœ¨å‡½æ•°é‡è½½ã€‚

```c
#include<string.h>
#include<stdio.h>
void my_gets(char*s,int limit){
    fgets(s,limit,stdin);
    s[strcspn(s,"\n")] = '\0';
}

int main(){
    char str[100];
    my_gets(str,100);
    puts(str);
}
```

## å­—ç¬¦ä¸²çš„åŠ¨æ€å†…å­˜åˆ†é…

ä¾‹é¢˜ï¼šè¯»å–å¹¶å­˜å‚¨`10,000`ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªé•¿åº¦ä¸è¶…è¿‡`1,000`ã€‚ä½†æ€»å­—ç¬¦æ•°ä¸è¶…è¿‡`200,000`(å³200KBå†…å­˜)

å¸¸è§è§£æ³•ï¼š

```c
char strings[10005][1005];
// ä¸€ä¸ªå­—ç¬¦ä¸²å°±æ˜¯1KB
// å äº†10,000KBçš„å†…å­˜ï¼Œå³10MBï¼Œç¼–è¯‘ä¸é€šè¿‡
for (int i = 0; i < 10000; i++) {
    gets(string[i]);
}
```

åŠ¨æ€åˆ†é…ï¼š

```c
char  buffer[1005];
char* ptr[10005]; //æ‰€è°“çš„ æŒ‡é’ˆæ•°ç»„

for (int i = 0; i < 10000; i++) {
    fgets(buffer, 1005, stdin);
    buffer[strcspn(buffer, "\n")] = '\0';
    //å‰é¢ä¸¤è¡Œåªæ˜¯è¯»å–ï¼Œåœ¨buaaojä¸Šå¯ä»¥ç”¨getsä»£æ›¿
    ptr[i] = (char*)malloc(sizeof(char) * (strlen(buffer) + 1));
    //ç”¨å¤šå°‘æ‹¿å¤šå°‘
    strcpy(ptr[i], buffer);
}

// ......

for (int i = 0; i < 10000; i++) {
    free(ptr[i]); //æœ‰å€Ÿæœ‰è¿˜
}
```

## floatæ¯”è¾ƒ

å¦‚æœçœŸå¿˜äº†å°±ç›´æ¥å¤åˆ¶ä¸‹é¢çš„ã€‚ã€‚

```c
#define eps 1e-8
int XGreaterThanY(double x,double y){
 return x-y>eps;// æ­£å¾—å¤Ÿå¤š â†’ x > y
}
int XLessThanY(double x,double y){
 return x-y<-eps;// è´Ÿå¾—å¤Ÿå¤š â†’ x < y
}
int XEqualToY(double x,double y){
 return fabs(x-y)<eps;// æ¥è¿‘ 0 â†’ ç›¸ç­‰
}
```

ä½¿ç”¨ä¾‹ï¼š

```c
if(XGreaterThanY(a,b)){
    //do something
}
if(!XEqualToY(c,d)){
    //do something
}
```

## qsort()çš„cmp()å‡½æ•°æŒ‡å—

### åŸºæœ¬è¯­æ³•

```c
typedef ... My_type;
int cmp(const void*p1,const void*p2){
    My_type* pp1 = (My_type*)p1; //pp1 pp2ä¸ºä¸­é—´å˜é‡ï¼Œä¾¿äºè®¿é—®
    My_type* pp2 = (My_type*)p2; //å¦åˆ™åé¢æ¯ä¸ªæŒ‡é’ˆéƒ½è¦å†™æˆ((My_type*)p1)
    
    //åé¢åˆ©ç”¨pp1å’Œpp2æ‰‹å†™æ¯”è¾ƒè§„åˆ™ï¼Œæ”¯æŒå¤šå­—æ®µæ’åºã€‚
}
```

### åŸç†&æ³¨æ„äº‹é¡¹

`cmp()`è¿”å›å€¼ä¸º`int`ã€‚ä¸»è¦çœ‹æ­£è´Ÿï¼Œè‹¥è¿”å›è´Ÿå€¼ï¼Œ`*p1`æ”¾åœ¨`*p2`å‰ã€‚

å·æ‡’å†™æ³• `return pp1->a - pp2->a;`åˆšå¥½å°±æ˜¯æŠŠå°çš„æ’åœ¨å‰é¢
ä½†æ˜¯è¿™ä¹ˆå†™è¦æ³¨æ„ï¼š

1.ä¸¤ä¸ªæç«¯æ•°ç›¸å‡è¶…èŒƒå›´

2.ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸å‡ä¹‹å·®å°äº1ä¼šreturn 0;å› ä¸ºè¿”å›å€¼æ˜¯intè€Œä¸æ˜¯double

ä¸€èˆ¬éƒ½æ˜¯`if(pp1->a < pp2->a) return -1;`
ï¼ˆå¦‚æœæ˜¯æµ®ç‚¹æ•°æ¯”è¾ƒï¼Œè‡ªå·±æ ¹æ®è§„åˆ™æ”¹ä¸€ä¸‹ï¼‰

## æ’åºåå»é‡è¾“å‡º

ä¾‹é¢˜ï¼šå¯¹å·²ç»æ’å¥½åºçš„æ•°ç»„ï¼Œå»é™¤é‡å¤å…ƒç´ å¹¶è¾“å‡ºã€‚

å¦‚ `arr[] = {1,1,2,2,2,3,3,4,5};`

è¾“å‡º`1 2 3 4 5`

è§£æ³•1ï¼šå¸¸è§„

```c
// å…ˆç‰¹åˆ¤å¼€å¤´ï¼Œç„¶åæŠŠä¸åŒçš„å…¨æ‰“å°å‡ºæ¥ã€‚
#include <stdio.h>
int arr[] = {1, 1, 2, 2, 2, 3, 3, 4, 5};
int main() {
    int n = sizeof(arr) / sizeof(arr[0]);
    printf("%d", arr[0]);
    for (int i = 1; i < n; i++) {
        if (arr[i] != arr[i - 1]) {
            printf(" %d", arr[i]);
        }
    }
    puts("");
}
```

è§£æ³•2ï¼šåŒæŒ‡é’ˆ

```c
// ä»£ç ä¸­çš„left rightåŒæŒ‡é’ˆï¼Œæ°¸è¿œæ‰“å°leftï¼Œleftéšç€rightç§»åŠ¨ã€‚
// ç‰¹åˆ¤æœ€åä¸€ä¸ª
#include <stdio.h>
int arr[] = {1,1,2,2,2,3,3,4,5};
int main() {
    int left = 0;
    int n = sizeof(arr) / sizeof(arr[0]);
    for (int right = 0; right < n; right++) {
        if (arr[left] != arr[right]) {
            printf("%d ", arr[left]);
            left = right;
        }
    }
    printf("%d\n", arr[n - 1]);
}
```

## å¸¸è§WA

1. `scanf("%d",&n)`è¯»å–å•è¡Œçš„æ•°å­—åï¼Œå¦‚æœå†ç”¨`fgets()`/`gets()`ï¼Œæ•°å­—æœ«å°¾æœ‰ä¸ª`'\n'`è¦ç”¨`getchar()`åƒæ‰ï¼Œä¸ç„¶æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸²è¯»åˆ°çš„æ˜¯`'\n'`ï¼Œå¦‚æœç”¨ä¸Šè¿°æ–¹æ³•å»æ‰`'\n'`å°±åªèƒ½å¾—åˆ°ç©ºå­—ç¬¦ä¸²ã€‚
2. æ±‚ä¸€ä¸ªæ•°ç»„çš„æœ€å¤§å€¼ï¼Œä¸å®œåˆå§‹åŒ–`int max = 0`,åº”è¯¥æ˜¯`int max = arr[0]`ã€‚å¦‚æœæ•°ç»„éƒ½æ˜¯è´Ÿçš„ï¼Œå‰è€…ä¸ä¼šè¾“å‡ºä»»ä½•ä¸œè¥¿ã€‚ã€‚ã€‚
3. å†™`cmp()`å‡½æ•°çš„æ—¶å€™ä¸è¦å·æ‡’ï¼Œæµ®ç‚¹æ•°ä½œè¿”å›å€¼ä¸å¯é¢„æµ‹ï¼šå†™`return a-b;`å¦‚æœ`a-b`æ˜¯`0.9`é‚£å°±åˆ¤æˆç›¸ç­‰äº†ã€‚ã€‚ã€‚
4. çœ‹å¥½æ•°æ®èŒƒå›´ï¼Œæœ‰çš„`int`ç›¸ä¹˜ä¼šè¶…å‡º`int`ã€‚å¿…è¦çš„æ—¶å€™éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚

```c
 int a,b;
 a=2147483647;
 b=2;
 long long c,d;
 c=a+b;
 d=a*b;
 printf("%lld %lld\n",c,d);
 //é”™è¯¯ï¼Œè¾“å‡º-2147483647 -2
 c=(long long)a+b;
 d=(long long)a*b;
 printf("%lld %lld\n",c,d);
 //æ­£ç¡®ï¼Œè¾“å‡º2147483649 4294967294
```

## æ¯”è¾ƒæ— èŠçš„ä¸œè¥¿

1. `No` / `N0` / `NO` è¯¸å¦‚æ­¤ç±»
2. 16è¿›åˆ¶å¯ä»¥4æŒ‰å››ä¸ªbitä¸ºå•ä½æ“ä½œã€‚å¦‚ `x & 0xFFFF00FF`(å¦‚æœè¦ç”¨unionè®¿é—®å†…å­˜çš„è¯ï¼Œæ¶‰åŠè®¡ç®—æœºçš„å°ç«¯å‚¨å­˜)
